{% extends "index.html" %}

{% block content %}
<div class="section">
    <div class="header" style="color: #e67e22;">
        <h2>Plaintext Attack Service</h2>
    </div>

    <div class="controls">
        <div>
            <label>Suspected Cipher</label>
            <select id="attackType" onchange="toggleAttackInputs()">
                <option value="shift">Shift Cipher</option>
                <option value="permutation">Permutation Cipher</option>
            </select>
        </div>

        <div id="attackPermGroup" class="hidden">
            <label>Known Block Size (m)</label>
            <input type="number" id="attackM" value="5" style="width: 60px;">
        </div>

        <button class="btn-encode" style="background: #e67e22;" onclick="handlePlaintextAttack()">Recover Key</button>
    </div>

    <label>Known Plaintext (What was sent)</label>
    <textarea id="attackPlain" placeholder="Enter the original text..."></textarea>

    <label>Captured Ciphertext (What was intercepted)</label>
    <textarea id="attackCipher" placeholder="Enter the encoded version..."></textarea>

    <label>Recovered Key Analysis</label>
    <div id="attackResult" class="output-area">Key details will appear here...</div>
    <div id="attackStatus" class="statusEl"></div>
</div>
<script type="module" src="{{ url_for('static', filename='js/attack.js') }}"></script>
{% endblock %}
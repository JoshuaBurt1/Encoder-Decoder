{% extends "index.html" %}

{% block content %}
<div class="gematria-container">
    
    <div class="panel input-panel">
        <div class="header" style="color: #d81b60;">
            <h2>Ancient Number Systems</h2>
        </div>
        
        <div class="control-group">
            <label>Script System</label>
            <select id="scriptSelect" class="custom-select">
                <option value="hebrew">Hebrew (Standard Gematria)</option>
                <option value="greek">Ancient Greek (Isopsephy)</option>
                <option value="arabic">Arabic (Abjad System)</option>
                <option value="indian">Indian (Katapayadi System)</option>
            </select>
        </div>

        <div class="control-group">
            <label>Text Entry</label>
            <textarea id="gematriaEntry" placeholder="Enter ancient text..."></textarea>
        </div>
        
        <button id="calculateBtn" class="btn-primary" style="background: #d81b60;">CALCULATE & PLOT</button>
        <p id="gematriaStatus" class="status-text"></p>
    </div>

    <div class="panel data-panel">
        <div id="statsBar" class="stats-grid">
            <div class="stat-item">
                <span class="stat-label">Total Value</span>
                <b id="gematriaResult" class="stat-value">0</b>
            </div>
            <div class="stat-item">
                <span class="stat-label">Words</span>
                <b id="wordCount">0</b>
            </div>
            <div class="stat-item">
                <span class="stat-label">Letters</span>
                <b id="letterCount">0</b>
            </div>
        </div>
        
        <div class="breakdown-wrapper">
            <div id="breakdownArea" class="terminal-text">
                Waiting for calculation input...
            </div>
        </div>
    </div>

    <!---->
    <div class="panel plot-panel">
        <div class="plot-controls-bar">
            <label class="checkbox-container">
                <input type="checkbox" id="toggleConnect">
                <span class="checkmark"></span> Connect Order
            </label>
            <label class="checkbox-container">
                <input type="checkbox" id="toggleShowAllLines">
                <span class="checkmark"></span> Show Web
            </label>
        </div>
        
        <div class="plot-card segment-plot">
                <label class="plot-label">Segment Totals (Square vs Hex)</label>
                <div class="visuals-container">
                    <!--
                    <h3>Characters</h3>
                    <canvas id="freqPlotCanvas"></canvas> <canvas id="freqHexCanvas"></canvas>-->
                    <h3>Words</h3>
                    <canvas id="wordPlotCanvas"></canvas> <canvas id="wordHexCanvas"></canvas>  
                    <h3>Segments</h3>
                    <canvas id="punctPlotCanvas"></canvas> <canvas id="punctHexCanvas"></canvas>  
                </div>
            </div>
        </div>
    </div>
    
</div>

<script type="module" src="{{ url_for('static', filename='js/gematria.js') }}"></script>
{% endblock %}